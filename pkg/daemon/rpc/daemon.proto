syntax = "proto3";

option go_package = ".;rpc";

package rpc;

service Daemon {
  rpc Connect (ConnectRequest) returns (stream ConnectResponse) {}
  rpc Status (StatusRequest) returns (StatusResponse) {}
  rpc Quit (QuitRequest) returns (QuitResponse) {}
}

message ConnectRequest {
  string Kubeconfig = 1;
  string Namespace = 2;
  map<string, string> Headers = 3;
  repeated string Workloads = 4;
  repeated string ExtraCIDR = 5;
  repeated string ExtraDomain = 6;
  bool UseLocalDNS = 7;
  string Engine = 8;
  // ssh jump
  string Addr = 9;
  string User = 10;
  string Password = 11;
  string Keyfile = 12;
  string ConfigAlias = 13;
  string RemoteKubeconfig = 14;

  // transfer image
  bool TransferImage = 15;
  string Image = 16;
}

message ConnectResponse {
  string message = 1;
}

message QuitRequest {
  string name = 1;
}

message QuitResponse {
  string message = 1;
}

message StatusRequest {
  string name = 1;
}

message StatusResponse {
  string message = 1;
}